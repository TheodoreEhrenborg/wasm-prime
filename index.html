<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Prime Checker</title>
</head>
<body>
    <div id="elm-app"></div>

    <script src="elm.js"></script>
    <script>
        const { default: init, is_prime } = await import('./pkg/wasm_prime.js');

        // Initialize the WASM module
        await init();

        // Initialize Elm app
        var app = Elm.Main.init({
            node: document.getElementById('elm-app')
        });
        
        // Set up port communication
        app.ports.checkPrime.subscribe(function(input) {
            // Call your existing is_prime function
            var result = is_prime(input);
            
            // Send the result back to Elm
            app.ports.primeResult.send(result);
        });
    </script>
</body>
</html>
